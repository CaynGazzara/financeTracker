<div class="dashboard-container">
  <h1>Dashboard Financeiro</h1>
  
  <div *ngIf="isLoading" class="loading-spinner">
    <mat-spinner></mat-spinner>
  </div>

  <div *ngIf="!isLoading" class="dashboard-content">
    <!-- Cards de Resumo -->
    <div class="summary-cards">
      <mat-card class="summary-card income-card">
        <mat-card-header>
          <mat-card-title>Receitas</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <h2>{{ summary.totalIncome | currency:'BRL' }}</h2>
        </mat-card-content>
      </mat-card>

      <mat-card class="summary-card expense-card">
        <mat-card-header>
          <mat-card-title>Despesas</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <h2>{{ summary.totalExpenses | currency:'BRL' }}</h2>
        </mat-card-content>
      </mat-card>

      <mat-card class="summary-card balance-card" [class.positive]="summary.balance >= 0" [class.negative]="summary.balance < 0">
        <mat-card-header>
          <mat-card-title>Saldo</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <h2>{{ summary.balance | currency:'BRL' }}</h2>
        </mat-card-content>
      </mat-card>
    </div>

    <!-- Gráfico e Transações Recentes -->
    <div class="dashboard-grid">
      <mat-card class="chart-card">
        <mat-card-header>
          <mat-card-title>Resumo Financeiro</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <app-balance-chart [income]="summary.totalIncome" [expenses]="summary.totalExpenses"></app-balance-chart>
        </mat-card-content>
      </mat-card>

      <mat-card class="transactions-card">
        <mat-card-header>
          <mat-card-title>Transações Recentes</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            <mat-list-item *ngFor="let transaction of summary.recentTransactions" class="transaction-item">
              <div matListItemTitle>{{ transaction.description }}</div>
              <div matListItemLine>{{ transaction.date | date:'dd/MM/yyyy' }}</div>
              <div matListItemMeta 
                   [class.income]="transaction.type === TransactionType.Income" 
                   [class.expense]="transaction.type === TransactionType.Expense">
                {{ transaction.amount | currency:'BRL' }}
              </div>
            </mat-list-item>
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>